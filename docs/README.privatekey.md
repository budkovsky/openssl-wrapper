[<<< HOME](../README.md)

# OpenSSL Wrapper for PHP

## PrivateKey class

### PrivateKey object creation
Private class can be created in two ways:
- via classic constructor
- or via static factory method:

```php
//via constructor
$key = new PrivateKey();

//via static factory
$key = PrivateKey::create();
```
If you want to set some specific parameters for a new key, use `ConfigArgs` object as the parameter for the constructor or static factory.

```php
use Budkovsky\OpenSslWrapper\PrivateKey;
use Budkovsky\OpenSslWrapper\Entity\ConfigArgs;

//set parameters for a new key into ConfigArgs object
$configArgs = ConfigArgs::create()
	->setPrivateKeyType(KeyType::RSA)
	->setEncryptKey(false);

//pass ConfigArgs object to the constructor
$key = new PrivateKey($configArgs);
```

### Reading existing private key from file
Immediately after creating a new object, PrivateKey contains completely new key generated by the constructor. If you want to use existing key, call `load()` with string parameter representing key body.

```php
use Budkovsky\OpenSslWrapper\PrivateKey;

$key = $new PrivateKey();
$pem = file_get_contents('/path/to/folder/key.pem');
$key->load($pem);
```

### Exporting private key to PEM format
Use `export()` or `exportToFile()` method to export PEM formatted private key to variable or a file.

```php
use Budkovsky\OpenSslWrapper\PrivateKey;

$key = new PrivateKey();
$keyBody = $key->export();
# OR
$keyBody = $key->exportToFile();
```
